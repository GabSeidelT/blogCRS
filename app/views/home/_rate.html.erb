<h3 class="text-light font-weight-bold"> Avaliar </h3>
<%= form_with model: @rating, local: false, :html => {:id => 'rate-form'} do |f| %>
    <% (1..5).each do |rating| %>
        <%= f.label :rate, for: "rating_rate_#{rating.to_i}" do %>
            <i id="<%=rating%>" class="fas fa-star fa-2x"></i>
        <% end %>
        <%= f.radio_button :rate, rating.to_i, class: "display-0", :html => {:id => 'rate-form'} %>
    <% end %>
    <%= f.hidden_field :post_id, value: @post.id %>
    <%= f.submit ('Avaliar'), :class => 'btn btn-sm text-rose bg-white btn-outline-primary' %> 
<% end %>
<span id="rating-post">
    <%= number_with_precision(@average, precision: 1) %>
</span>
<script>
    $('#1').click(function(){
        $('#1').css("color", "#e91e63");
        $('#2').css("color", "white");
        $('#3').css("color", "white");
        $('#4').css("color", "white");
        $('#5').css("color", "white");
    })
    $('#2').click(function(){
        $('#1').css("color", "#e91e63");
        $('#2').css("color", "#e91e63");
        $('#3').css("color", "white");
        $('#4').css("color", "white");
        $('#5').css("color", "white");
    })
    $('#3').click(function(){
        $('#1').css("color", "#e91e63");
        $('#2').css("color", "#e91e63");
        $('#3').css("color", "#e91e63");
        $('#4').css("color", "white");
        $('#5').css("color", "white");
    })
    $('#4').click(function(){
        $('#1').css("color", "#e91e63");
        $('#2').css("color", "#e91e63");
        $('#3').css("color", "#e91e63");
        $('#4').css("color", "#e91e63");
        $('#5').css("color", "white");
    })
    $('#5').click(function(){
        $('#1').css("color", "#e91e63");
        $('#2').css("color", "#e91e63");
        $('#3').css("color", "#e91e63");
        $('#4').css("color", "#e91e63");
        $('#5').css("color", "#e91e63");
    })
</script>